# =============================================================================
# Rural Roads One System — Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in all values before starting Phase 1.
# .env is git-ignored. Never commit real credentials.
# =============================================================================


# -----------------------------------------------------------------------------
# [UI-01] AWS Account & Region
# -----------------------------------------------------------------------------
AWS_ACCOUNT_ID=123456789012
AWS_REGION=ap-southeast-7


# -----------------------------------------------------------------------------
# [UI-02] AWS Credentials
# Leave blank if using AWS SSO / instance profile / EC2 role.
# For local CDK deployment, set access key + secret here.
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
# Optional: named profile from ~/.aws/credentials
AWS_PROFILE=


# -----------------------------------------------------------------------------
# [UI-03] Domain Name
# The public domain for the application (ALB + CloudFront).
# Example: one-system.rrd.go.th
# -----------------------------------------------------------------------------
APP_DOMAIN=


# -----------------------------------------------------------------------------
# [UI-04] LINE Channel Access Token
# Found in LINE Developers Console → your channel → Messaging API → Channel access token
# Generate a long-lived token.
# -----------------------------------------------------------------------------
LINE_CHANNEL_ACCESS_TOKEN=


# -----------------------------------------------------------------------------
# [UI-05] LINE Channel Secret
# Found in LINE Developers Console → your channel → Basic settings → Channel secret
# Used to verify incoming webhook signatures.
# -----------------------------------------------------------------------------
LINE_CHANNEL_SECRET=


# -----------------------------------------------------------------------------
# [UI-06] LINE OA Channel ID
# Found in LINE Developers Console → your channel → Basic settings → Channel ID
# -----------------------------------------------------------------------------
LINE_CHANNEL_ID=


# -----------------------------------------------------------------------------
# [UI-07] 1146 Call Center API Endpoint
# Base URL of the 1146 REST API. Example: https://api.1146.example.go.th
# -----------------------------------------------------------------------------
CALL_1146_API_URL=


# -----------------------------------------------------------------------------
# [UI-08] 1146 API Credentials
# Ask the 1146 system administrator for these.
# -----------------------------------------------------------------------------
CALL_1146_API_KEY=
# If username/password instead of API key:
CALL_1146_USERNAME=
CALL_1146_PASSWORD=


# -----------------------------------------------------------------------------
# [UI-09] SES Sender Email
# Must be a verified email address in AWS SES.
# If SES is still in sandbox, all recipient addresses must also be verified.
# -----------------------------------------------------------------------------
SES_SENDER_EMAIL=no-reply@one-system.rrd.go.th


# -----------------------------------------------------------------------------
# [UI-10] Airflow Deployment Mode
# Options: self_hosted | mwaa
# self_hosted = install Airflow via Docker Compose on EC2 (cheaper)
# mwaa        = use AWS Managed Workflows for Apache Airflow
# -----------------------------------------------------------------------------
AIRFLOW_MODE=self_hosted


# -----------------------------------------------------------------------------
# [UI-11] SSL Certificate ARN
# ACM certificate for APP_DOMAIN. Must be in us-east-1 for CloudFront,
# and in AWS_REGION for ALB.
# Run: aws acm request-certificate --domain-name YOUR_DOMAIN --validation-method DNS
# Then paste the ARN here after validation completes.
# -----------------------------------------------------------------------------
ACM_CERTIFICATE_ARN=


# =============================================================================
# APPLICATION SETTINGS (auto-filled by CDK outputs after Phase 1 deploy)
# Fill these in after running: cdk deploy --all
# =============================================================================

# -----------------------------------------------------------------------------
# Database (Aurora PostgreSQL) — from CDK output
# -----------------------------------------------------------------------------
DB_HOST=
DB_PORT=5432
DB_NAME=one_system
DB_USER=postgres
DB_PASSWORD=          # Stored in Secrets Manager — use for local dev only


# -----------------------------------------------------------------------------
# AWS Cognito — from CDK output
# -----------------------------------------------------------------------------
COGNITO_USER_POOL_ID=
COGNITO_APP_CLIENT_ID=


# -----------------------------------------------------------------------------
# S3 Bucket Names — from CDK output
# -----------------------------------------------------------------------------
S3_RAW_LANDING_BUCKET=
S3_PROCESSED_ZONE_BUCKET=
S3_ATTACHMENTS_BUCKET=
S3_EXPORTS_BUCKET=
S3_AUDIT_LOGS_BUCKET=


# -----------------------------------------------------------------------------
# SQS Queue URLs — from CDK output
# -----------------------------------------------------------------------------
SQS_LINE_WEBHOOK_QUEUE_URL=
SQS_NOTIFICATION_QUEUE_URL=
SQS_EXPORT_QUEUE_URL=


# =============================================================================
# LOCAL DEVELOPMENT OVERRIDES
# Only used when running locally via docker-compose.
# =============================================================================

# Local Postgres (docker-compose spins this up)
LOCAL_DB_HOST=localhost
LOCAL_DB_PORT=5433
LOCAL_DB_NAME=one_system_dev
LOCAL_DB_USER=postgres
LOCAL_DB_PASSWORD=localpassword

# Environment flag
ENVIRONMENT=development   # development | staging | production
